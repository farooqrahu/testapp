"use strict";(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[95],{24095:function(I,c,i){i.r(c),i.d(c,{AuthLayoutModule:function(){return U}});var m=i(72767),f=i(61116),a=i(31041),p=i(99948),e=i(4366),Z=i(2754);function h(o,t){1&o&&(e.TgZ(0,"div",29),e._uU(1," Username is required! "),e.qZA())}function T(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function A(o,t){1&o&&(e.TgZ(0,"div"),e._uU(1," Password must be at least 6 characters "),e.qZA())}function b(o,t){if(1&o&&(e.TgZ(0,"div",29),e.YNc(1,T,2,0,"div",30),e.YNc(2,A,2,0,"div",30),e.qZA()),2&o){e.oxw();var n=e.MAs(12);e.xp6(1),e.Q6J("ngIf",n.errors.required),e.xp6(1),e.Q6J("ngIf",n.errors.minlength)}}function x(o,t){if(1&o&&(e.TgZ(0,"div",29),e._uU(1),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.hij(" Login failed: ",n.errorMessage," ")}}function _(o,t){if(1&o&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&o){var n=e.oxw(2);e.xp6(1),e.hij(" ",n.tokenmessage," ")}}function L(o,t){if(1&o){var n=e.EpF();e.TgZ(0,"form",17,18),e.NdJ("ngSubmit",function(){e.CHM(n);var d=e.MAs(1),l=e.oxw();return d.form.valid&&l.onSubmit()}),e.TgZ(2,"div",19),e.TgZ(3,"label",20),e._uU(4,"Username"),e.qZA(),e.TgZ(5,"input",21,22),e.NdJ("ngModelChange",function(d){return e.CHM(n),e.oxw().form.username=d}),e.qZA(),e.YNc(7,h,2,0,"div",23),e.qZA(),e.TgZ(8,"div",19),e.TgZ(9,"label",24),e._uU(10,"Password"),e.qZA(),e.TgZ(11,"input",25,26),e.NdJ("ngModelChange",function(d){return e.CHM(n),e.oxw().form.password=d}),e.qZA(),e.YNc(13,b,3,2,"div",23),e.qZA(),e.TgZ(14,"div",19),e.TgZ(15,"button",27),e._uU(16," Login "),e.qZA(),e.qZA(),e.TgZ(17,"div",19),e.YNc(18,x,2,1,"div",23),e.qZA(),e.TgZ(19,"div",19),e.YNc(20,_,2,1,"div",28),e.qZA(),e.qZA()}if(2&o){var r=e.MAs(1),s=e.MAs(6),g=e.MAs(12),u=e.oxw();e.xp6(5),e.Q6J("ngModel",u.form.username),e.xp6(2),e.Q6J("ngIf",s.errors&&r.submitted),e.xp6(4),e.Q6J("ngModel",u.form.password),e.xp6(2),e.Q6J("ngIf",g.errors&&r.submitted),e.xp6(5),e.Q6J("ngIf",r.submitted&&u.isLoginFailed),e.xp6(2),e.Q6J("ngIf",u.tokenavailable)}}function q(o,t){1&o&&(e.TgZ(0,"div",32),e._uU(1," Logged in. "),e.qZA())}var M=[{path:"login",component:function(){function o(t,n,r,s){this.authService=t,this.activatedRoute=n,this.tokenStorage=r,this.router=s,this.form={username:null,password:null},this.isLoggedIn=!1,this.isLoginFailed=!1,this.errorMessage="",this.roles=[],this.tokenavailable=!1}return o.prototype.ngOnInit=function(){var t=this;this.activatedRoute.queryParams.subscribe(function(n){null!=n.token&&t.authService.confirmUserAccount(n.token).subscribe(function(r){t.tokenavailable=!0,t.tokenmessage=r.message},function(r){t.tokenavailable=!0,t.tokenmessage=r.error.message})}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roles=this.tokenStorage.getUser().roles),null!=this.tokenStorage.getUser()&&this.router.navigate(["/dashboard"])},o.prototype.onSubmit=function(){var t=this,n=this.form,r=n.username,s=n.password;this.tokenmessage="",this.authService.login(r,s).subscribe(function(g){t.tokenStorage.saveToken(g.token),t.user=g.user,t.user.password=s,t.tokenStorage.saveUser(t.user),t.isLoginFailed=!1,t.isLoggedIn=!0,t.roles=t.tokenStorage.getUser().roles,t.router.navigate(["/dashboard"])},function(g){t.errorMessage=g.error.message,t.isLoginFailed=!0})},o.prototype.reloadPage=function(){window.location.reload()},o.\u0275fac=function(n){return new(n||o)(e.Y36(p.e),e.Y36(m.gz),e.Y36(Z.i),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"header","pb-4","pt-3","pt-lg-4","d-flex","align-items-center",2,"min-height","300px","background-image","url(assets/img/theme/hardware1.jpg)","background-size","cover","background-position","center top"],[1,"mask","bg-gradient-danger","opacity-6"],[1,"container"],[1,"header-body","text-center","mb-7"],[1,"row","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"text-white"],[1,"text-lead","text-light"],[1,"separator","separator-bottom","separator-skew","zindex-100"],["x","0","y","0","viewBox","0 0 2560 100","preserveAspectRatio","none","version","1.1","xmlns","http://www.w3.org/2000/svg"],["points","2560 0 2560 100 0 100",1,"fill-default"],[1,"container","mt--6","pb-3"],[1,"col-lg-5","col-md-7"],[1,"card","bg-secondary","shadow","border-0"],[1,"card-body","px-lg-5","py-lg-5"],["name","form","novalidate","",3,"ngSubmit",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","username"],["type","text","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],["class","alert alert-danger","role","alert",4,"ngIf"],["for","password"],["type","password","name","password","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"btn","btn-primary","btn-block"],["class","alert","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[4,"ngIf"],["role","alert",1,"alert"],[1,"alert","alert-success"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h1",6),e._uU(7,"Habib Paints & Construction Material"),e.qZA(),e.TgZ(8,"p",7),e._uU(9,"Use your credentials to login or contact administrator to create new account."),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.O4$(),e.TgZ(11,"svg",9),e._UZ(12,"polygon",10),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(13,"div",11),e.TgZ(14,"div",4),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"div",14),e.YNc(18,L,21,6,"form",15),e.YNc(19,q,2,0,"div",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(18),e.Q6J("ngIf",!r.isLoggedIn),e.xp6(1),e.Q6J("ngIf",r.isLoggedIn))},directives:[f.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On,a.wO],styles:[""]}),o}()},{path:"reports",component:i(59760).y}],y=i(13070),k=i(13841),U=function(){function o(){}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,m.Bz.forChild(M),a.u5,y.lN,k.LD]]}),o}()}}]);